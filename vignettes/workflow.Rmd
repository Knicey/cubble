---
title: "workflow"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{workflow}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  message = FALSE, 
  warning = FALSE,
  eval = FALSE
)
```

```{r setup}
library(cubble)
library(dplyr)
```

# Create a cubble


```{r}
df <- cubble(climate, station, by = c("station" = "id"))
```


# Use cubble with tidyverts

```{r}
library(tsibbledata)
library(fable)
# raw country sheet
wmap <- rworldmap::getMap(resolution="high")
country <- rgeos::gCentroid(wmap, byid=TRUE) %>% 
  as_tibble(rownames = "Country") %>% 
  filter(Country %in% unique(global_economy$Country))

economy <- global_economy %>%
  filter(Country %in% country$country)

df <- cubble(economy, country, by = c("Country" = "Country"))

df %>% 
  choose(main) %>% 
  model(arima210 = ARIMA(Exports ~ pdq(2,1,0))) %>% 
  cubble_join()

```
```

